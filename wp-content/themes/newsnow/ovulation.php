<?php /* Template Name: OVULATION */
get_header();
?>
<div class="content-area">
    <main id="main" class="site-main">
        <div class="content-block content-block-1 clear">
            <div class="section-heading">
                <h3 class="section-title">Tính ngày rụng trứng
                </h3>
                <i>Công cụ này không nên được sử dụng như một hình thức kiểm soát sinh sản hoặc tránh thai ngoài ý
                    muốn.</i>
            </div>
            <div class="page-content clear">
                <h4>Tính ngày rụng trứng để tăng khả năng thụ thai</h4>
                <div id="bmi-request-form" class="bmi-request-form clear">
                    <div class="bmi-form">
                        <p>
                            <label for="">Ngày đầu tiên của kỳ kinh nguyệt cuối cùng của bạn</label>
                            <input type="text" class="bmi-input datepicker" name="first-period" autocomplete="off"/>
                        </p>
                        <p>
                            <label for="">Khoảng cách giữa hai chu kỳ kinh nguyệt của bạn là bao nhiêu ngày?</label>
                            <select id="ccycle" name="ccycle" class="bmi-input" style="text-align: center;font-size: 22px;width:300px">
                                <option value="22">22 ngày</option>
                                <option value="23">23 ngày</option>
                                <option value="24">24 ngày</option>
                                <option value="25">25 ngày</option>
                                <option value="26">26 ngày</option>
                                <option value="27">27 ngày</option>
                                <option value="28">28 ngày</option>
                                <option value="29">29 ngày</option>
                                <option value="30" selected="">30 ngày</option>
                                <option value="31">31 ngày</option>
                                <option value="32">32 ngày</option>
                                <option value="33">33 ngày</option>
                                <option value="34">34 ngày</option>
                                <option value="35">35 ngày</option>
                                <option value="36">36 ngày</option>
                                <option value="37">37 ngày</option>
                                <option value="38">38 ngày</option>
                                <option value="39">39 ngày</option>
                                <option value="40">40 ngày</option>
                                <option value="41">41 ngày</option>
                                <option value="42">42 ngày</option>
                                <option value="43">43 ngày</option>
                                <option value="44">44 ngày</option>
                            </select>
                        </p>
                        <p>
                            <button id="btn-weight-submit" type="button"
                                    class="submit-btn">Tính toán
                            </button>
                        </p>
                    </div>
                </div>
                <div id="div-result" class="bmi-notice" style="display: none">
                    <h4>Các ngày quan trọng của chu kỳ này</h4>
                    <table>
                        <tbody>
                        <tr>
                            <td style="background-color: #0d99d5;color: #fff;font-weight: bold">Ngày dễ thụ thai nhất
                            </td>
                            <td style="background-color: #0d99d5;color: #fff;font-weight: bold">
                                <span class="fow"></span> - <span class="tow"></span>
                            </td>
                        </tr>
                        <tr>
                            <td>Ngày rụng trứng có thể xảy ra</td>
                            <td><span class="mpod"></span></td>
                        </tr>
                        <tr>
                            <td>Ngày giao hợp dễ thụ thai</td>
                            <td><span class="fiwfp"></span> - <span class="tiwfp"></span></td>
                        </tr>
                        <tr>
                            <td>Ngày có thể thử thai</td>
                            <td><span class="pt"></span></td>
                        </tr>
                        <tr>
                            <td>Chu kỳ kinh nguyệt tiếp theo</td>
                            <td><span class="ndp"></span></td>
                        </tr>
                        <tr>
                            <td>Ngày dự sinh - Nếu có thai</td>
                            <td><span class="ddip"></span></td>
                        </tr>
                        </tbody>
                    </table>
                    <h4>Ngày dễ thụ thai 6 chu kỳ tiếp theo</h4>
                    <table>
                        <thead>
                        <tr>
                            <th style="background-color: #0d99d5;color: #fff;">Ngày bắt đầu chu kỳ</th>
                            <th style="background-color: #0d99d5;color: #fff;">Ngày dễ thụ thai nhất</th>
                            <th style="background-color: #0d99d5;color: #fff;">Ngày dự sinh</th>
                        </tr>
                        </thead>
                        <tbody class="tbl-next-six">
                        </tbody>
                    </table>
                </div>
            </div>
            <hr/>
            <div class="page-content clear">
                <h3>Sự rụng trứng và thụ thai</h3>
                <p>Rụng trứng ở người là quá trình nang trứng bị vỡ và giải phóng một hoặc nhiều trứng trưởng thành từ
                    buồng trứng. Trung bình, sự rụng trứng xảy ra trong vòng 4 ngày trước hoặc sau điểm giữa của chu kỳ
                    kinh nguyệt của người phụ nữ (14 ngày trước khi bắt đầu kỳ kinh nguyệt tiếp theo của người phụ
                    nữ).</p>
                <p>Ngày 10-18 của chu kỳ kinh nguyệt (trung bình) là giai đoạn dễ thụ thai nhất của chu kỳ kinh nguyệt.
                    Điều này rất quan trọng khi cố gắng thụ thai vì sự thụ tinh của trứng chỉ có thể xảy ra trong 12-24
                    giờ sau khi phóng thích trong một phần của giai đoạn hoàng thể, khi trứng trưởng thành đi qua ống
                    dẫn trứng về phía tử cung. Vì tinh trùng có thể tồn tại bên trong cơ thể người phụ nữ trong tối đa
                    năm ngày, quan hệ tình dục thường xuyên năm ngày trước và vào ngày rụng trứng có thể cải thiện khả
                    năng thụ thai. Nếu được thụ tinh, trứng sẽ cấy vào tử cung 6-12 ngày sau. Nếu không, kinh nguyệt xảy
                    ra, và máu và mô niêm mạc từ lớp lót bên trong tử cung bị tống ra ngoài.</p>
                <h3>Các phương pháp dự đoán ngày trứng rụng</h3>
                <h5>Theo dõi chu kỳ kinh nguyệt</h5>
                <p>Công cụ tính ngày rụng trứng này sử dụng phương pháp theo dõi chu kỳ kinh nguyệt để dự đoán thời điểm
                    rụng
                    trứng có thể xảy ra. Vì ngày 10-18 của chu kỳ kinh nguyệt thường là giai đoạn dễ thụ thai nhất, phụ
                    nữ có chu kỳ đều đặn có thể dễ dàng xác định khi nào rụng trứng và có khả năng thụ
                    thai cao. Tuy nhiên, chu kỳ kinh nguyệt là khác nhau đối với phụ nữ, cho nên cần theo dõi chu kỳ
                    kinh nguyệt để xác định chính xác hơn khi nào rụng trứng
                    có thể xảy ra.</p>
                <h5>Theo dõi Nhiệt độ cơ thể cơ bản</h5>
                <p>Nhiệt độ cơ thể cơ bản (BBT) được đo bằng nhiệt kế đặc biệt. Đây là nhiệt độ của bạn khi bạn thức dậy
                    vào buổi sáng. BBT thường thấp nhất ngay trước khi rụng trứng xảy ra. Nó bắt đầu tăng khoảng 1/2
                    độ một ngày trong thời gian rụng trứng. Theo dõi BBT trong một vài tháng có thể giúp bạn xác định
                    khi nào bạn đang rụng trứng và rất có thể có khả năng thụ thai. Tuy nhiên, có những yếu tố khác có
                    thể ảnh hưởng đến BBT của bạn, chẳng hạn như bị cảm lạnh hoặc nhiễm trùng. Trong những trường hợp
                    này, đo BBT có thể không phải là một chỉ số đảm bảo về rụng trứng.</p>
                <h5>Sử dụng bộ dụng cụ xét nghiệm</h5>
                <p>Bạn cũng có thể sử dụng bộ xét nghiệm rụng trứng (không kê đơn) để kiểm tra sự tăng vọt của một số
                    hormone cụ
                    thể trước ngày rụng trứng trong 24-48 giờ. Mặc dù các xét nghiệm này có độ chính xác 99% trong việc
                    phát hiện các hormone cụ thể, nhưng chúng không thể đảm bảo khi nào sự rụng trứng sẽ xảy
                    ra trong khoảng thời gian hai ngày. Các xét nghiệm này thường đo mức độ hormone luteinizing (LH),
                    khi được giải phóng với số lượng lớn (và trong các điều kiện khác), kích hoạt rụng trứng.</p>
                <p>Ngoài ra còn có bộ dụng cụ dự đoán rụng trứng có thể kiểm tra sự thay đổi nồng độ estrogen trong nước
                    bọt hoặc muối trong mồ hôi, chúng thay đổi trong tháng và có thể liên quan đến chu kỳ kinh nguyệt.
                    Những thay đổi này thường xảy ra sớm hơn so với thay đổi nội tiết tố (tăng LH), và do đó có thể dự
                    đoán rụng trứng sớm hơn. Không giống như các bài kiểm tra LH, điều này đòi hỏi phải chuẩn bị nhiều
                    hơn về mặt theo dõi mức độ của các thời điểm này để xác định mức cơ sở.</p>
            </div>
        </div>
        <script type="text/javascript">
            let picker = null;
            _monthsFull = ['Tháng Giêng', 'Tháng Hai', 'Tháng Ba', 'Tháng Tư', 'Tháng Năm', 'Tháng Sáu', 'Tháng Bảy', 'Tháng Tám', 'Tháng Chín', 'Tháng Mười', 'Tháng M.Một', 'Tháng Chạp'];
            _monthsShort = ['Giêng', 'Hai', 'Ba', 'Tư', 'Năm', 'Sáu', 'Bảy', 'Tám', 'Chín', 'Mười', 'M.Một', 'Chạp'];
            _weekdaysFull = ['Chủ Nhật', 'Thứ Hai', 'Thứ Ba', 'Thứ Tư', 'Thứ Năm', 'Thứ Sáu', 'Thứ Bảy'];
            _weekdaysShort = ['CN', 'T2', 'T3', 'T4', 'T5', 'T6', 'T7'];

            function format(d) {
                return (_weekdaysShort[d.getDay()] + ', ' + d.getDate() + ' tháng ' + _monthsShort[d.getMonth()] + ' năm ' + d.getFullYear());
            }

            jQuery(document).ready(() => {
                let $input = jQuery('.datepicker').pickadate({
                    // Strings and translations
                    monthsFull: _monthsFull,
                    monthsShort: _monthsShort,
                    weekdaysFull: _weekdaysFull,
                    weekdaysShort: _weekdaysShort,
                    format: 'Ngày! dd mmmm, yyyy',
                    formatSubmit: 'yyyy/mm/dd',
                    hiddenPrefix: 'ovu-pre-',
                    hiddenSuffix: '',
                    today: '',
                    clear: '',
                    close: ''
                });
                picker = $input.pickadate('picker');
                jQuery('#btn-weight-submit').click(function () {
                    let sd = jQuery("input[name='ovu-pre-first-period'").val();
                    if (sd.length === '') return;
                    let period = parseInt(jQuery('#ccycle').val());
                    let fdp = new Date(sd);
                    let ndp = new Date(sd);
                    ndp.setDate(ndp.getDate() + period);
                    let mpod = new Date(sd);
                    mpod.setDate(mpod.getDate() + period - 14);
                    let fow = new Date(sd);
                    let tow = new Date(sd);
                    let fiwfp = new Date(sd);
                    let tiwfp = new Date(sd);
                    let pt = new Date(sd);
                    let ddip = new Date(sd);
                    fow.setDate(fow.getDate() + period - 16);
                    tow.setDate(tow.getDate() + period - 12);
                    fiwfp.setDate(fiwfp.getDate() + period - 19);
                    tiwfp.setDate(tiwfp.getDate() + period - 12);
                    pt.setDate(pt.getDate() + period - 5);
                    ddip.setDate(ddip.getDate() - 82);
                    ddip = new Date(ddip.getFullYear() + 1, ddip.getMonth(), ddip.getDate());
                    jQuery('.ndp').text(format(ndp));
                    jQuery('.mpod').text(format(mpod));
                    jQuery('.fow').text(format(fow));
                    jQuery('.tow').text(format(tow));
                    jQuery('.fiwfp').text(format(fiwfp));
                    jQuery('.tiwfp').text(format(tiwfp));
                    jQuery('.pt').text(format(pt));
                    jQuery('.ddip').text(format(ddip));
                    jQuery('.bmi-notice').css('display', 'block');
                    //next 6 period
                    let next_periods = '';
                    for (let i = 0; i < 6; i++) {
                        let fow = new Date(fdp.valueOf());
                        let tow = new Date(fdp.valueOf());
                        let ddip = new Date(fdp.valueOf());
                        fow.setDate(fow.getDate() + period - 16);
                        tow.setDate(tow.getDate() + period - 12);
                        ddip.setDate(ddip.getDate() - 82);
                        ddip = new Date(ddip.getFullYear() + 1, ddip.getMonth(), ddip.getDate());
                        next_periods += '<tr>';
                        next_periods += '<td>' + format(fdp) + '</td>';
                        next_periods += '<td>' + format(fow) + ' - ' + format(tow) + '</td>';
                        next_periods += '<td>' + format(ddip) + '</td>';
                        next_periods += '</tr>';
                        fdp.setDate(fdp.getDate() + period);
                    }
                    jQuery('.tbl-next-six').append(next_periods);
                    document.getElementById('div-result').scrollIntoView({behavior: "smooth", block: "start", inline: "nearest"});
                })
            })

            function reset_form() {
                jQuery('.bmi-notice').css('display', 'none');
                document.getElementById('bmi-request-form').scrollIntoView({behavior: "smooth", block: "start", inline: "nearest"});
            }
        </script>
    </main>
</div>
<?php get_footer(); ?>
